if (self.CavalryLogger) { CavalryLogger.start_js(["mXv98"]); }

__d("FileInput.react",["cx","invariant","FileInput","InlineBlock.react","React","ReactDOM","joinClasses","nullthrows"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getFileInput=function(){return b("nullthrows")(d.$1)},d.focus=function(){var a=b("ReactDOM").findDOMNode(d.refs.fileInput);a instanceof HTMLInputElement&&!a.disabled&&a.focus()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("joinClasses")("_m",this.props.containerClassName),c="container",d=b("React").createElement("input",babelHelpers["extends"]({},this.props,{type:"file",className:b("joinClasses")(this.props.className,"_n"),ref:"fileInput"}),void 0);if(this.props.display==="block")return b("React").createElement("div",{className:a,ref:c},this.props.children,d);else if(this.props.display==="inline-block")return b("React").createElement(b("InlineBlock.react"),{className:a,ref:c},this.props.children,d);else return b("React").createElement("span",{className:a,ref:c},this.props.children,d)};d.componentDidMount=function(){var a=b("ReactDOM").findDOMNode(this.refs.fileInput),c=b("ReactDOM").findDOMNode(this.refs.container);if(!(a instanceof HTMLInputElement)||!(c instanceof HTMLElement))return;var d=c.firstChild;d instanceof HTMLAnchorElement||h(0,5212);d.setAttribute("rel","ignore");this.$1=new(b("FileInput"))(c,d,a)};d.componentWillUnmount=function(){this.$1&&(this.$1.destroy(),this.$1=null)};return c}(b("React").Component);a.defaultProps={display:"inline-block"};e.exports=a}),null);
__d("GamesXOut.react",["cx","React","ShimButton.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:b("joinClasses")("_2b2u",this.props.className)},this.props.children,b("React").createElement(b("ShimButton.react"),{className:"_1m6e",onClick:this.props.onClick}))};return c}(b("React").Component);c.propTypes={onClick:a.func.isRequired};e.exports=c}),null);
__d("AsyncUploadBase",["ArbiterMixin","AsyncRequest","AsyncResponse","BrowserSupport","Form","forEachObject","mixin","removeFromArray"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);c.parseFiles=function(a){__p&&__p();var c={};b("forEachObject")(a,function(a,b){if(Array.isArray(a))c[b]=a;else{c[b]=[];if(a instanceof window.FileList)for(var d=0;d<a.length;d++)c[b].push(a.item(d));else(a instanceof window.File||a instanceof window.Blob)&&c[b].push(a)}});return c};function c(b){__p&&__p();var c;c=a.call(this)||this;c._customHeader={};c._inFlight=!1;c._limit=10;c._preventDefaultErrorHandler=!1;c._suspended=!1;b&&c.setURI(b);c.setNetworkErrorRetryLimit(0);return c}var d=c.prototype;d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};d.setData=function(a){this._data=a;return this};d.setPreventDefaultErrorHandler=function(a){this._preventDefaultErrorHandler=a;return this};d.setLimit=function(a){this._limit=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setRelativeTo=function(a){this._relativeTo=a;return this};d.setStatusElement=function(a){this._statusElement=a;return this};d.setURI=function(a){this._uri=a;return this};d.suspend=function(){this._suspended=!0;return this};d.resume=function(){this._suspended=!1;this._processQueue();return this};d.isUploading=function(){return this._inFlight};d._createFileUpload=function(a,b,c){return new g(a,b,c)};d._processQueue=function(){if(this._suspended)return;while(this._pending.length<this._limit){if(!this._waiting.length)break;var a=this._waiting.shift(),b=this._preprocessHandler;b?b(a,this._processUpload.bind(this)):this._processUpload(a);this._pending.push(a)}};d._processUpload=function(a){__p&&__p();var c=b("Form").createFormData(a.getData()||this._data);if(a.getFile()){c.append(a.getName(),a.getFile());var d=a.getFile().uploadID;d&&c.append("upload_id",d);a.getAdditionalData().forEach(function(a,b){return c.append(b,a)})}d=new(b("AsyncRequest"))().setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setURI(this._uri).setRawData(c).setStatusElement(this._statusElement).setHandler(this._success.bind(this,a)).setErrorHandler(this._failure.bind(this,a)).setUploadProgressHandler(this._progress.bind(this,a)).setInitialHandler(this._initial.bind(this,a));for(var e in this._customHeader)d.setRequestHeader(e,this._customHeader[e]);this._relativeTo&&d.setRelativeTo(this._relativeTo);d.send();a.setAsyncRequest(d);this._inFlight=!0;a.getRetryCount()||this.inform("start",a)};d._abort=function(a){this._pending.indexOf(a)!==-1&&(b("removeFromArray")(this._pending,a),this._processQueue()),b("removeFromArray")(this._waiting,a),a.abort()};d._initial=function(a){if(a.isAborted())return;this.inform("initial",a)};d._success=function(a,b){if(a.isAborted()){this.inform("success_after_abort",b);return}this._complete(a);this.inform("success",a.handleSuccess(b));this._processQueue()};d._retryUpload=function(a){a.increaseRetryCount(),this._processUpload(a)};d._failure=function(a,c){if(a.isAborted())return;if(c.error===1004&&a.getRetryCount()<(this._retryLimit||0))return this._retryUpload(a);this._complete(a);this.inform("failure",a.handleFailure(c))!==!1&&(this._preventDefaultErrorHandler||b("AsyncResponse").defaultErrorHandler(c));this._processQueue()};d._progress=function(a,b){if(a.isAborted())return;this.inform("progress",a.handleProgress(b))};d._complete=function(a){b("removeFromArray")(this._pending,a),this._pending.length||(this._inFlight=!1)};c.isSupported=function(){return b("BrowserSupport").hasFileAPI()};return c}(b("mixin")(b("ArbiterMixin")));var g=function(){"use strict";__p&&__p();function a(a,b,c){this._allowCrossOrigin=!1,this._allowCrossPageTransition=!1,this._additionalData=new Map(),this._success=null,this._response=null,this._progressEvent=null,this._request=null,this._numRetries=0,this._aborted=!1,this._name=a,this._file=b,this._data=c}var b=a.prototype;b.getName=function(){return this._name};b.getFile=function(){return this._file};b.setFile=function(a){this._file=a};b.getData=function(){return this._data};b.getAdditionalData=function(){return this._additionalData};b.isComplete=function(){return this._success!==null};b.isSuccess=function(){return this._success===!0};b.getResponse=function(){return this._response};b.getProgressEvent=function(){return this._progressEvent};b.setAsyncRequest=function(a){this._request=a;return this};b.increaseRetryCount=function(){this._numRetries++;return this};b.getRetryCount=function(){return this._numRetries};b.isWaiting=function(){return!this._request};b.isAborted=function(){return this._aborted};b.abort=function(){this._request=null,this._aborted=!0};b.handleSuccess=function(a){this._success=!0;this._response=a;this._progressEvent=null;return this};b.handleFailure=function(a){this._success=!1;this._response=a;this._progressEvent=null;return this};b.handleProgress=function(a){this._progressEvent=a;return this};return a}();e.exports=a}),null);
__d("AsyncUploadRequest",["AsyncUploadBase"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c._files=null,c._uploads=[],c._fileLessUpload=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.setFiles=function(a){this._files=b("AsyncUploadBase").parseFiles(a);return this};d.setAlwaysReturnResponse=function(a){this._shouldAlwaysReturnResponse=a};d.abort=function(){var a=this;this._uploads.forEach(function(b){return a._abort(b)},this)};d.send=function(){__p&&__p();if(this._inFlight)return;this._inFlight=!0;this._uploads=[];for(var a in this._files)this._files[a].forEach(function(b){this._uploads.push(this._createFileUpload(a,b))}.bind(this));this._waiting=this._uploads.slice(0);this._pending=[];this._uploads.length?this._processQueue():(this._fileLessUpload=this._createFileUpload(null,null),this._processUpload(this._fileLessUpload))};d._processQueue=function(){a.prototype._processQueue.call(this);if(!this._pending.length&&!this._waiting.length){var b=this._uploads;b=this._shouldAlwaysReturnResponse?this._fileLessUpload!=null?{response:this._fileLessUpload.getResponse(),uploads:b}:{response:b[0].getResponse(),uploads:b}:b;this.inform("complete",b)}};c.isSupported=function(){return b("AsyncUploadBase").isSupported()};return c}(b("AsyncUploadBase"));e.exports=a}),null);
__d("Dialog",["fbt","Animation","Arbiter","AsyncRequest","Button","ContextualThing","CSS","DOM","Env","Event","Focus","Form","HTML","Keys","Locale","PageTransitions","Parent","Run","Style","URI","Vector","bind","createArrayFromMixed","emptyFunction","getObjectValues","getOverlayZIndex","removeFromArray","shield"],(function $module_Dialog(global,require,requireDynamic,requireLazy,module,exports,fbt){__p&&__p();var _supportsPositionFixed2=function _supportsPositionFixed(){__p&&__p();var body=document.body;if(!body)return!1;var test=document.createElement("div"),control=document.createElement("div");body.insertBefore(test,body.firstChild);body.insertBefore(control,body.firstChild);test.style.position="fixed";test.style.top="20px";var result=test.offsetTop!==control.offsetTop;body.removeChild(test);body.removeChild(control);_supportsPositionFixed2=require("emptyFunction").thatReturns(result);return result},Dialog=function(){"use strict";__p&&__p();function Dialog(model){this._show_loading=!0,this._auto_focus=!0,this._submit_on_enter=!1,this._fade_enabled=!0,this._onload_handlers=[],this._top=125,this._uniqueID="dialog_"+Dialog._globalCount++,this._content=null,this._obj=null,this._popup=null,this._overlay=null,this._causal_elem=null,this._previous_focus=null,this._buttons=[],this._buildDialog(),model&&this._setFromModel(model),Dialog._init()}var _proto=Dialog.prototype;_proto.show=function show(){this._showing=!0;this._async_request?this._show_loading&&this.showLoading():this._update();return this};_proto.showLoading=function showLoading(){this._loading=!0;require("CSS").addClass(this._frame,"dialog_loading_shown");this._renderDialog();return this};_proto.hide=function hide(){if(!this._showing&&!this._loading)return this;this._showing=!1;this._autohide_timeout&&(clearTimeout(this._autohide_timeout),this._autohide_timeout=null);this._fade_enabled&&Dialog._stack.length<=1?this._fadeOut():this._hide();return this};_proto.cancel=function cancel(){(!this._cancelHandler||this._cancelHandler()!==!1)&&this.hide()};_proto.getRoot=function getRoot(){return this._obj};_proto.getBody=function getBody(){return require("DOM").scry(this._obj,"div.dialog_body")[0]};_proto.getButtonElement=function getButtonElement(button){typeof button==="string"&&(button=Dialog._findButton(this._buttons,button));if(!button||!button.name)return null;var inputs=require("DOM").scry(this._popup,"input"),name_filter=function name_filter(elem){return elem.name==button.name};return inputs.filter(name_filter)[0]||null};_proto.getContentNode=function getContentNode(){return require("DOM").find(this._content,"div.dialog_content")};_proto.getFormData=function getFormData(){return require("Form").serialize(this.getContentNode())};_proto.setAllowCrossPageTransition=function setAllowCrossPageTransition(allow){this._cross_transition=allow;return this};_proto.setAllowCrossQuicklingNavigation=function setAllowCrossQuicklingNavigation(allow){this._cross_quickling=allow;return this};_proto.setShowing=function setShowing(){this.show();return this};_proto.setHiding=function setHiding(){this.hide();return this};_proto.setTitle=function setTitle(title){var node=this._nodes.title,inner_node=this._nodes.title_inner,content_node=this._nodes.content;require("DOM").setContent(inner_node,this._format(title||"",!0));require("CSS").conditionShow(node,!!title);require("CSS").conditionClass(content_node,"dialog_content_titleless",!title);return this};_proto.setInvertTitleColor=function setInvertTitleColor(invert){invert?this._nodes.title.className="dialog_title_inverted":this._nodes.title.className="dialog_title";return this};_proto.setBody=function setBody(body){require("DOM").setContent(this._nodes.body,this._format(body));return this};_proto.setExtraData=function setExtraData(data){this._extra_data=data;return this};_proto.setReturnData=function setReturnData(data){this._return_data=data;return this};_proto.setShowLoading=function setShowLoading(show){this._show_loading=show;return this};_proto.setFullBleed=function setFullBleed(is_full_bleed){this._full_bleed=is_full_bleed;this._updateWidth();require("CSS").conditionClass(this._obj,"full_bleed",is_full_bleed);return this};_proto.setCausalElement=function setCausalElement(elem){this._causal_elem=elem;return this};_proto.setUserData=function setUserData(data){this._user_data=data;return this};_proto.getUserData=function getUserData(){return this._user_data};_proto.setAutohide=function setAutohide(autohide){autohide?this._showing?this._autohide_timeout=setTimeout(require("shield")(this.hide,this),autohide):this._autohide=autohide:(this._autohide=null,this._autohide_timeout&&(clearTimeout(this._autohide_timeout),this._autohide_timeout=null));return this};_proto.setSummary=function setSummary(summary){var node=this._nodes.summary;require("DOM").setContent(node,this._format(summary||""));require("CSS").conditionShow(node,!!summary);return this};_proto.setButtons=function setButtons(b){__p&&__p();var buttons,button;!Array.isArray(b)?buttons=Array.from(arguments):buttons=b;for(var i=0;i<buttons.length;++i){var currButton=buttons[i];typeof currButton==="string"&&(button=Dialog._findButton(Dialog._STANDARD_BUTTONS,currButton),buttons[i]=button)}this._buttons=buttons;var button_content=[];if(buttons&&buttons.length>0)for(var ii=0;ii<buttons.length;ii++){button=buttons[ii];if(!button)continue;var button_input=require("DOM").create("input",{type:"button",name:button.name||"",value:button.label}),button_node=require("DOM").create("label",{className:"uiButton uiButtonLarge uiButtonConfirm"},button_input);button.className&&(button.className.split(/\s+/).forEach(function(e){require("CSS").addClass(button_node,e)}),require("CSS").hasClass(button_node,"inputaux")&&(require("CSS").removeClass(button_node,"inputaux"),require("CSS").removeClass(button_node,"uiButtonConfirm")),require("CSS").hasClass(button_node,"uiButtonSpecial")&&require("CSS").removeClass(button_node,"uiButtonConfirm"));button.icon&&require("DOM").prependContent(button_node,require("DOM").create("img",{src:button.icon,className:"img mrs"}));button.disabled&&require("Button").setEnabled(button_node,!1);require("Event").listen(button_input,"click",this._handleButton.bind(this,button.name));for(var attr in button)attr.indexOf("data-")===0&&attr.length>5&&button_input.setAttribute(attr,button[attr]);button_content.push(button_node)}require("DOM").setContent(this._nodes.buttons,button_content);this._updateButtonVisibility();return this};_proto.setButtonsMessage=function setButtonsMessage(message){require("DOM").setContent(this._nodes.button_message,this._format(message||""));this._has_button_message=!!message;this._updateButtonVisibility();return this};_proto._updateButtonVisibility=function _updateButtonVisibility(){var show=this._buttons.length>0||this._has_button_message;require("CSS").conditionShow(this._nodes.button_wrapper,show);require("CSS").conditionClass(this._obj,"omitDialogFooter",!show)};_proto.setClickButtonOnEnter=function setClickButtonOnEnter(input_id,button){this._clickOnEnterTarget=input_id;this._clickOnEnterListener||(this._clickOnEnterListener=require("Event").listen(this._nodes.body,"keypress",function(event){var target=event.getTarget();target&&target.id===this._clickOnEnterTarget&&(require("Event").getKeyCode(event)==require("Keys").RETURN&&(this._handleButton(button),event.kill()));return!0}.bind(this)));return this};_proto.setStackable=function setStackable(stackable,shown){this._is_stackable=stackable;this._shown_while_stacked=stackable&&shown;return this};_proto.setHandler=function setHandler(handler){this._handler=handler;return this};_proto.setCancelHandler=function setCancelHandler(cancelHandler){this._cancelHandler=Dialog.call_or_eval.bind(null,this,cancelHandler);return this};_proto.setCloseHandler=function setCloseHandler(close_handler){this._close_handler=Dialog.call_or_eval.bind(null,this,close_handler);return this};_proto.clearHandler=function clearHandler(){return this.setHandler(null)};_proto.setPostURI=function setPostURI(post_uri,asynchronous,useParent){asynchronous===void 0&&(asynchronous=!0);if(useParent&&require("Env").isCQuick){require("PageTransitions").go(post_uri);return this}asynchronous?this.setHandler(this._submitForm.bind(this,"POST",post_uri)):this.setHandler(function(){require("Form").post(post_uri,this.getFormData()),this.hide()}.bind(this));return this};_proto.setGetURI=function setGetURI(get_uri){this.setHandler(this._submitForm.bind(this,"GET",get_uri));return this};_proto.setModal=function setModal(modal){this._modal=modal;require("CSS").conditionClass(this._obj,"generic_dialog_modal",modal);return this};_proto.setSemiModal=function setSemiModal(clickout){clickout?(this.setModal(!0),this._semiModalListener=require("Event").listen(this._obj,"click",function(e){require("DOM").contains(this._popup,e.getTarget())||this.hide()}.bind(this))):this._semiModalListener&&this._semiModalListener.remove();this._semi_modal=clickout;return this};_proto.setWideDialog=function setWideDialog(is_wide){this._wide_dialog=is_wide;this._updateWidth();return this};_proto.setContentWidth=function setContentWidth(width){this._content_width=width;this._updateWidth();return this};_proto.setTitleLoading=function setTitleLoading(loading){loading===void 0&&(loading=!0);var header=require("DOM").find(this._popup,"h2.dialog_title");header&&require("CSS").conditionClass(header,"loading",loading);return this};_proto.setSecure=function setSecure(is_secure){require("CSS").conditionClass(this._nodes.title,"secure",is_secure);return this};_proto.setClassName=function setClassName(class_name){class_name.split(/\s+/).forEach(require("CSS").addClass.bind(require("CSS"),this._obj));return this};_proto.setFadeEnabled=function setFadeEnabled(enabled){this._fade_enabled=enabled;return this};_proto.setFooter=function setFooter(footer){var node=this._nodes.footer;require("DOM").setContent(node,this._format(footer||""));require("CSS").conditionShow(node,!!footer);return this};_proto.setAutoFocus=function setAutoFocus(focus){this._auto_focus=focus;return this};_proto.setTop=function setTop(top){this._top=top;this._resetDialogObj();return this};_proto.onloadRegister=function onloadRegister(handler){var _this=this;require("createArrayFromMixed")(handler).forEach(function(i){typeof i==="string"&&(i=new Function(i)),_this._onload_handlers.push(i.bind(_this))});return this};_proto.setAsyncURL=function setAsyncURL(url){return this.setAsync(new(require("AsyncRequest"))(url))};_proto.setAsync=function setAsync(async_request){__p&&__p();var handler=function(response){if(this._async_request!=async_request)return;this._async_request=null;var payload=response.getPayload(),dialog=payload;this._loading&&(this._showing=!0);typeof dialog==="string"?this.setBody(dialog):this._setFromModel(dialog);this._update()}.bind(this),data=async_request.getData();data.__d=1;async_request.setData(data);var orig_handler=async_request.getHandler()||require("emptyFunction");async_request.setHandler(function(response){orig_handler(response),handler(response)});var request=async_request,orig_error_handler=request.getErrorHandler()||require("emptyFunction"),orig_trans_error_handler=request.getTransportErrorHandler()||require("emptyFunction"),handle_error=function(){this._async_request=null,this._loading=!1,this._showing&&this._shown_while_stacked?this._update():this._hide(this._is_stackable)}.bind(this),server_cancel_handler=request.getServerDialogCancelHandler()||handle_error;request.setAllowCrossPageTransition(this._cross_transition).setErrorHandler(function(response){handle_error(),orig_error_handler(response)}).setTransportErrorHandler(function(response){handle_error(),orig_trans_error_handler(response)}).setServerDialogCancelHandler(server_cancel_handler);async_request.send();this._async_request=async_request;this._showing&&this.show();return this};_proto._format=function _format(content,sane){sane===void 0&&(sane=!1);typeof content==="string"?sane||(content=require("HTML")(content)):content=require("HTML").replaceJSONWrapper(content);content instanceof require("HTML")&&content.setDeferred(!0);return content};_proto._update=function _update(){if(!this._showing)return;this._autohide&&!this._async_request&&!this._autohide_timeout&&(this._autohide_timeout=setTimeout(require("bind")(this,"hide"),this._autohide));require("CSS").removeClass(this._frame,"dialog_loading_shown");this._loading=!1;this._renderDialog();this._runOnloads();this._previous_focus=document.activeElement;require("Focus").set(this._frame)};_proto._runOnloads=function _runOnloads(){for(var i=0;i<this._onload_handlers.length;++i)try{this._onload_handlers[i]()}catch(_unused){}this._onload_handlers=[]};_proto._updateWidth=function _updateWidth(){var dialog_width=2*(Dialog._BORDER_WIDTH+Dialog._HALO_WIDTH);this._content_width?(dialog_width+=this._content_width,this._full_bleed||(dialog_width+=2*Dialog._PADDING_WIDTH)):this._wide_dialog?dialog_width+=Dialog.SIZE.WIDE:dialog_width+=Dialog.SIZE.STANDARD;this._popup.style.width=dialog_width+"px"};_proto._updateZIndex=function _updateZIndex(){if(!this._hasSetZIndex&&this._causal_elem){var z_index=require("getOverlayZIndex")(this._causal_elem),node=this._causal_elem;while(!z_index&&(node=require("ContextualThing").getContext(node)))z_index=require("getOverlayZIndex")(node);this._hasSetZIndex=z_index>(this._modal?400:200);require("Style").set(this._obj,"z-index",this._hasSetZIndex?z_index:"")}};_proto._renderDialog=function _renderDialog(){__p&&__p();this._updateZIndex();this._pushOntoStack();this._obj.style.height=null;this._obj&&this._obj.style.display?(this._obj.style.visibility="hidden",this._obj.style.display="",this.resetDialogPosition(),this._obj.style.visibility="",this._obj.dialog=this):this.resetDialogPosition();clearInterval(this.active_hiding);this.active_hiding=setInterval(this._activeResize.bind(this),500);this._submit_on_enter=!1;if(this._auto_focus){var input=require("Form").getFirstElement(this._content,['input[type="text"]',"textarea",'input[type="password"]']);input?setTimeout(require("Form").focusFirst.bind(this,this._content),0):this._submit_on_enter=!0}var bottom=require("Vector").getElementDimensions(this._content).y+require("Vector").getElementPosition(this._content).y;Dialog._bottoms.push(bottom);this._bottom=bottom;Dialog._updateMaxBottom();return this};_proto._buildDialog=function _buildDialog(){__p&&__p();this._obj=require("DOM").create("div",{className:"generic_dialog",id:this._uniqueID});this._obj.style.display="none";require("DOM").appendContent(document.body,this._obj);this._popup||(this._popup=require("DOM").create("div",{className:"generic_dialog_popup"}));this._obj.appendChild(this._popup);require("CSS").addClass(this._obj,"pop_dialog");require("Locale").isRTL()&&require("CSS").addClass(this._obj,"pop_dialog_rtl");require("DOM").setContent(this._popup,require("DOM").create("div",{className:"pop_container_advanced"},require("DOM").create("div",{className:"pop_content",id:"pop_content"})));var frame=require("DOM").find(this._popup,"div.pop_content");frame.setAttribute("tabIndex","0");frame.setAttribute("role","alertdialog");this._frame=this._content=frame;var loading=require("DOM").create("div",{className:"dialog_loading"},fbt._("Loading...")),title_inner=require("DOM").create("span"),title=require("DOM").create("h2",{className:"dialog_title hidden_elem",id:"title_"+this._uniqueID},title_inner),summary=require("DOM").create("div",{className:"dialog_summary hidden_elem"}),body=require("DOM").create("div",{className:"dialog_body"}),buttons=require("DOM").create("div",{className:"rfloat mlm"}),button_message=require("DOM").create("div",{className:"dialog_buttons_msg"}),button_wrapper=require("DOM").create("div",{className:"dialog_buttons clearfix hidden_elem"},[buttons,button_message]),footer=require("DOM").create("div",{className:"dialog_footer hidden_elem"}),content=require("DOM").create("div",{className:"dialog_content"},[summary,body,button_wrapper,footer]);this._nodes={summary:summary,body:body,buttons:buttons,button_message:button_message,button_wrapper:button_wrapper,footer:footer,content:content,title:title,title_inner:title_inner};require("DOM").setContent(this._frame,[title,content,loading])};_proto._activeResize=function _activeResize(){this.last_offset_height!=this._content.offsetHeight&&(this.last_offset_height=this._content.offsetHeight,this.resetDialogPosition())};_proto.resetDialogPosition=function resetDialogPosition(){if(!this._popup)return;this._resetDialogObj()};_proto._resetDialogObj=function _resetDialogObj(){var total_margin=2*Dialog._PAGE_MARGIN,viewport_dimensions=require("Vector").getViewportDimensions(),viewport_width=viewport_dimensions.x-total_margin,viewport_height=viewport_dimensions.y-total_margin,total_halo_width=2*Dialog._HALO_WIDTH,content_dimensions=require("Vector").getElementDimensions(this._content),content_width=content_dimensions.x+total_halo_width,content_height=content_dimensions.y+total_halo_width,top=this._top,empty_horiz_space=viewport_width-content_width,empty_vertical_space=viewport_height-content_height;empty_vertical_space<0?top=Dialog._PAGE_MARGIN:top>empty_vertical_space&&(top=Dialog._PAGE_MARGIN+Math.max(empty_vertical_space,0)/2);var is_fixed=_supportsPositionFixed2();is_fixed||(top+=require("Vector").getScrollPosition().y);require("Style").set(this._popup,"marginTop",top+"px");var scroll=is_fixed&&(empty_horiz_space<0||empty_vertical_space<0);require("CSS").conditionClass(this._obj,"generic_dialog_fixed_overflow",scroll);var documentEl=document.documentElement;documentEl&&require("CSS").conditionClass(documentEl,"generic_dialog_overflow_mode",scroll)};_proto._fadeOut=function _fadeOut(temporary){if(!this._popup)return;try{new(require("Animation"))(this._obj).duration(0).checkpoint().to("opacity",0).hide().duration(250).ondone(this._hide.bind(this,temporary)).go()}catch(_unused2){this._hide(temporary)}};_proto._hide=function _hide(temporary){__p&&__p();this._obj&&(this._obj.style.display="none");var documentEl=document.documentElement;documentEl&&require("CSS").removeClass(documentEl,"generic_dialog_overflow_mode");clearInterval(this.active_hiding);if(this._bottom){var bs=Dialog._bottoms;bs.splice(bs.indexOf(this._bottom),1);Dialog._updateMaxBottom()}this._previous_focus&&document.activeElement&&require("DOM").contains(this._obj,document.activeElement)&&require("Focus").set(this._previous_focus);if(temporary)return;this.destroy()};_proto.destroy=function destroy(){this._popFromStack(),clearInterval(this.active_hiding),this._obj&&(require("DOM").remove(this._obj),this._obj=null),this._clickOnEnterListener&&this._clickOnEnterListener.remove(),this._close_handler&&this._close_handler({return_data:this._return_data})};_proto._handleButton=function _handleButton(button){typeof button==="string"&&(button=Dialog._findButton(this._buttons,button));if(!button)return;var value=Dialog.call_or_eval(button,button.handler);if(value===!1)return;button.name=="cancel"?this.cancel():Dialog.call_or_eval(this,this._handler,{button:button})!==!1&&this.hide()};_proto._submitForm=function _submitForm(method,uri,button){var data=this.getFormData();button&&(data[button.name]=button.name);this._extra_data&&Object.assign(data,this._extra_data);var async_request=new(require("AsyncRequest"))().setURI(uri).setData(data).setMethod(method).setNectarModuleDataSafe(this._causal_elem).setReadOnly(method=="GET");this.setAsync(async_request);return!1};_proto._setFromModel=function _setFromModel(original_model){__p&&__p();var model={};Object.assign(model,original_model);for(var propertyName in model){if(propertyName=="onloadRegister"){this.onloadRegister(model[propertyName]);continue}var mutator=this["set"+propertyName.substr(0,1).toUpperCase()+propertyName.substr(1)];mutator.apply(this,require("createArrayFromMixed")(model[propertyName]))}};_proto._updateBottom=function _updateBottom(){var bottom=require("Vector").getElementDimensions(this._content).y+require("Vector").getElementPosition(this._content).y;Dialog._bottoms[Dialog._bottoms.length-1]=bottom;Dialog._updateMaxBottom()};_proto._pushOntoStack=function _pushOntoStack(){var stack=Dialog._stack;stack.length||require("Arbiter").inform("layer_shown",{type:"Dialog"});require("removeFromArray")(stack,this);stack.push(this);for(var i=stack.length-2;i>=0;i--){var prev_dialog=stack[i];!prev_dialog._is_stackable&&!prev_dialog._async_request?prev_dialog._hide():prev_dialog._shown_while_stacked||prev_dialog._hide(!0)}};_proto._popFromStack=function _popFromStack(){var stack=Dialog._stack,was_top=stack[stack.length-1]===this;require("removeFromArray")(stack,this);stack.length?was_top&&stack[stack.length-1].show():require("Arbiter").inform("layer_hidden",{type:"Dialog"})};Dialog._updateMaxBottom=function _updateMaxBottom(){Dialog.max_bottom=Math.max.apply(Math,Dialog._bottoms)};Dialog.newButton=function newButton(name,label,className,handler){var button={name:name,label:label,className:void 0,handler:void 0};className&&(button.className=className);handler&&(button.handler=handler);return button};Dialog.getCurrent=function getCurrent(){var stack=Dialog._stack;return stack.length?stack[stack.length-1]:null};Dialog.hideCurrent=function hideCurrent(){var dialog=Dialog.getCurrent();dialog&&dialog.hide()};Dialog.bootstrap=function bootstrap(uri,data,read_only,method,model,elem){__p&&__p();data=data||{};Object.assign(data,new(require("URI"))(uri).getQueryData());method=method||(read_only?"GET":"POST");var status_elem=require("Parent").byClass(elem,"stat_elem")||elem;if(status_elem&&require("CSS").hasClass(status_elem,"async_saving"))return!1;if(!(status_elem instanceof HTMLElement))return!1;var request=new(require("AsyncRequest"))().setReadOnly(!!read_only).setMethod(method).setRelativeTo(elem).setStatusElement(status_elem).setURI(uri).setNectarModuleDataSafe(elem).setData(data),dialog=new Dialog(model).setCausalElement(elem).setAsync(request);dialog.show();return!1};Dialog.showFromModel=function showFromModel(model,causal_element){var dialog=new Dialog(model).setCausalElement(causal_element).show();model.hiding&&dialog.hide()};Dialog._init=function _init(){this._init=require("emptyFunction"),require("Run").onLeave(require("shield")(Dialog._tearDown,null,!1)),require("Arbiter").subscribe("page_transition",require("shield")(Dialog._tearDown,null,!0)),require("Event").listen(document.documentElement,"keydown",function(event){require("Event").getKeyCode(event)==require("Keys").ESC&&!event.getModifiers().any?Dialog._escape()&&event.kill():require("Event").getKeyCode(event)==require("Keys").RETURN&&!event.getModifiers().any&&(Dialog._enter()&&event.kill())}),require("Event").listen(window,"resize",function(event){var dialog=Dialog.getCurrent();dialog&&dialog._resetDialogObj()})};Dialog._findButton=function _findButton(buttons,name){if(buttons)for(var i=0;i<buttons.length;++i)if(buttons[i].name==name)return buttons[i];return null};Dialog._tearDown=function _tearDown(is_page_transition){var stack=Dialog._stack.slice();for(var ii=stack.length-1;ii>=0;ii--)(is_page_transition&&!stack[ii]._cross_transition||!is_page_transition&&!stack[ii]._cross_quickling)&&stack[ii].hide()};Dialog._escape=function _escape(){__p&&__p();var dialog=Dialog.getCurrent();if(!dialog)return!1;var semi_modal=dialog._semi_modal,buttons=dialog._buttons;if(!buttons.length&&!semi_modal)return!1;if(semi_modal&&!buttons.length){dialog.hide();return!0}var button_to_simulate,cancel_button=Dialog._findButton(buttons,"cancel");if(dialog._cancelHandler){dialog.cancel();return!0}else if(cancel_button)button_to_simulate=cancel_button;else if(buttons.length==1)button_to_simulate=buttons[0];else return!1;dialog._handleButton(button_to_simulate);return!0};Dialog._enter=function _enter(){__p&&__p();var dialog=Dialog.getCurrent();if(!dialog||!dialog._submit_on_enter)return!1;if(document.activeElement!=dialog._frame)return!1;var buttons=dialog._buttons;if(!buttons)return!1;dialog._handleButton(buttons[0]);return!0};Dialog.call_or_eval=function call_or_eval(obj,func,args){if(!func)return void 0;args=args||{};if(typeof func==="string"){var params=Object.keys(args).join(", ");func=eval("({f: function("+params+") { "+func+"}})").f}return func.apply(obj,require("getObjectValues")(args))};return Dialog}();Dialog.OK={name:"ok",label:fbt._("OK")};Dialog.CANCEL={name:"cancel",label:fbt._("Cancel"),className:"inputaux"};Dialog.CLOSE={name:"close",label:fbt._("Close")};Dialog.NEXT={name:"next",label:fbt._("Next")};Dialog.SAVE={name:"save",label:fbt._("Save")};Dialog.SUBMIT={name:"submit",label:fbt._("Submit")};Dialog.CONFIRM={name:"confirm",label:fbt._("Confirm")};Dialog.DELETE={name:"delete",label:fbt._("Delete")};Dialog._bottoms=[0];Dialog.max_bottom=0;Dialog._globalCount=0;Dialog.OK_AND_CANCEL=[Dialog.OK,Dialog.CANCEL];Dialog._STANDARD_BUTTONS=[Dialog.OK,Dialog.CANCEL,Dialog.CLOSE,Dialog.SAVE,Dialog.SUBMIT,Dialog.CONFIRM,Dialog.DELETE];Dialog.SIZE={WIDE:555,STANDARD:445};Dialog._HALO_WIDTH=10;Dialog._BORDER_WIDTH=1;Dialog._PADDING_WIDTH=10;Dialog._PAGE_MARGIN=40;Dialog._stack=[];module.exports=Dialog;global.Dialog=Dialog}),null);
__d("ErrorDialog",["Dialog","emptyFunction"],(function(a,b,c,d,e,f){var g={showAsyncError:function(a){try{return g.show(a.getErrorSummary(),a.getErrorDescription())}catch(b){alert(a)}},show:function(a,c,d,e){return new(b("Dialog"))().setTitle(a).setBody(c).setButtons([b("Dialog").OK]).setStackable(!0).setModal(!0).setHandler(d||b("emptyFunction")).setButtonsMessage(e||"").show()}};e.exports=g}),null);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","CurrentUser","DataStore","DOMQuery","Event","Form","JSONPTransport","Parent","URI","isElementNode","mixin","setTimeout","shield"],(function(a,b,c,d,e,f){__p&&__p();function g(a){var c={};a=b("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){c[a.name]=a.files});return c}function h(a){a=b("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){a.files=null})}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e){__p&&__p();var f;f=a.call(this)||this;f._handleSubmit=function(a){if(a.isDefaultPrevented()||a.getTarget()!==f._form)return;if(f.inform("submit")===!1){a.prevent();return}f.submit(a)};f.initial=function(a){return f.inform("initial",{upload:a})};if(c.getAttribute("rel")==="async")throw new Error("FileForm cannot be used with Primer forms.");if((c.getAttribute("method")||"").toUpperCase()!=="POST")throw new Error("FileForm must be used with POST forms.");f._form=c;f._previousEncoding=f._form.enctype;f._form.enctype=f._form.encoding="multipart/form-data";f._files=null;f._customHeader={};d&&f.enableBehaviors(d);f._options=e||{};f.setAllowCrossOrigin(f._options.allowCrossOrigin);f.setAllowCrossPageTransition(f._options.allowCrossPageTransition);f.setUploadInParallel(f._options.uploadInParallel);f.setConcurrentLimit(f._options.concurrentLimit);f.setPreprocessHandler(f._options.preprocessHandler);f.setNetworkErrorRetryLimit(f._options.networkErrorRetryLimit);f._listeners=[b("Event").listen(document.documentElement,"submit",f._handleSubmit),b("Event").listen(f._form,"click",f._click.bind(babelHelpers.assertThisInitialized(f)))];b("DataStore").set(f._form,"FileForm",babelHelpers.assertThisInitialized(f));return f}var d=c.prototype;d.getRoot=function(){return this._form};d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};d.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};d.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setFiles=function(a){this._files=a;return this};d.canUseXHR=function(){var a="FormData"in window;a&&(!new(b("URI"))(this._form.action).isSameOrigin()&&!this._allowCrossOrigin&&(a=!1));return a};d._click=function(a){a=a.getTarget();while(b("isElementNode")(a)){if(a.type==="submit"){this._clickTarget=a;b("setTimeout")(this._unclick.bind(this),0);break}a=a.parentNode}};d._unclick=function(){this._clickTarget=null};d._sendViaFrame=function(){__p&&__p();var a=this._request=new(b("AsyncRequest"))();a.setStatusElement(this._getStatusElement());a.addStatusIndicator();a.setOption("useIframeTransport",!0);var c=a.handleResponse.bind(a);c=new(b("JSONPTransport"))("iframe",this._form.action,c);var d=c.getTransportFrame(),e=c.getRequestURI().addQueryData({__iframe:!0,__user:b("CurrentUser").getID()});this._form.setAttribute("action",e.toString());c.createContinuationForFileForm_DO_NOT_USE();this._form.setAttribute("target",d.name);a.setJSONPTransport(c);a.setURI(e);a.setHandler(this.success.bind(this,null));a.setErrorHandler(this.failure.bind(this,null));a.setInitialHandler(b("shield")(this.initial,this,null))};d._sendViaXHR=function(a){__p&&__p();var c=this,d;if(this._uploadInParallel&&b("AsyncUploadRequest").isSupported()){d=new(b("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(b("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var e in this._customHeader)d.setCustomHttpHeader(e,this._customHeader[e]);this._concurrentLimit&&d.setLimit(this._concurrentLimit);this._files?d.setFiles(this._files):d.setFiles(g(this._form));var f=[d.subscribe("progress",function(a,b){this.progress(b,b.getProgressEvent())}.bind(this)),d.subscribe("initial",function(a,b){this.initial(b)}.bind(this)),d.subscribe("success",function(a,b){this.success(b,b.getResponse())}.bind(this)),d.subscribe("start",function(a,b){this.inform("start",{upload:b})}.bind(this)),d.subscribe("failure",function(a,b){this.failure(b,b.getResponse());return!1}.bind(this)),d.subscribe("complete",function(){while(f.length)f.pop().unsubscribe()})]}else{var h,e,i;(function(){__p&&__p();var a,f=c._files;if(f){a=b("Form").createFormData(b("Form").serialize(c._form,c._clickTarget));h=b("AsyncUploadRequest").parseFiles(f);for(e in h)i=h[e],i.length===1?a.append(e,i[0]):(e=e+"[]",i.forEach(function(b){a.append(e,b)}))}else a=b("Form").createFormData(c._form,c._clickTarget);d=new(b("AsyncRequest"))().setRawData(a).setHandler(c.success.bind(c,null)).setErrorHandler(c.failure.bind(c,null)).setUploadProgressHandler(c.progress.bind(c,null)).setInitialHandler(b("shield")(c.initial,c,null));c.inform("start",{upload:null})})()}d.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=d;a&&a.prevent()};d.forceSendViaXHR=function(){return this._sendViaXHR(null)};d.success=function(a,c){c={response:c,upload:a};this.inform("success",c)!==!1&&b("Event").fire(this._form,"success",c);this._cleanup()};d.failure=function(a,c){a={response:c,upload:a};this.inform("failure",a)!==!1&&(b("Event").fire(this._form,"error",a)!==!1&&b("AsyncResponse").defaultErrorHandler(c));this._cleanup()};d.progress=function(a,b){this.inform("progress",{event:b,upload:a})};d.abort=function(){this._request&&(this._request.abort(),this._cleanup())};d.clear=function(){h(this._form)};d.destroy=function(){this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;b("DataStore").remove(this._form,"FileForm")};d.submit=function(a){this.canUseXHR()?this._sendViaXHR(a):this._sendViaFrame()};d._cleanup=function(){this._request=null};d._getStatusElement=function(){return b("Parent").byClass(this._form,"stat_elem")||this._form};c.getInstance=function(a){return b("DataStore").get(a,"FileForm")};return c}(b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin")));Object.assign(a,{EVENTS:["start","submit","initial","progress","success","failure"]});e.exports=a}),null);
__d("FileInputUploader",["ArbiterMixin","DOM","DTSG","FileForm","Form","mixin"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c._inputElem=b;c._data={};return c}var d=c.prototype;d.setInput=function(a){this._inputElem=a;return this};d.setURI=function(a){this._uri=a;return this};d.setData=function(a){this._data=a;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setFiles=function(a){this._files=a;return this};d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};d.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};d.abort=function(){this._fileForm&&(this._fileForm.abort(),this._destroyFileForm())};d.send=function(){__p&&__p();this._createForm();var a=this._inputElem&&!this._inputElem.parentElement;if(!a&&this._inputElem){var c=this._inputElem.cloneNode(!1);b("DOM").replace(this._inputElem,c)}this._inputElem&&b("DOM").appendContent(this._formElem,this._inputElem);b("DOM").appendContent(document.body,this._formElem);this._fileForm.submit();!a&&this._inputElem&&b("DOM").replace(c,this._inputElem);this._removeFormEl()};d._onFileFormEvent=function(a,b){(a==="success"||a==="failure")&&this._destroyFileForm();return this.inform(a,b)};d._createForm=function(){var a;this._destroyFileForm();this._formElem=b("DOM").create("form",{action:this._uri,method:"post"});this._fileForm=new(b("FileForm"))(this._formElem,null,{allowCrossOrigin:!!this._allowCrossOrigin,allowCrossPageTransition:!!this._allowCrossPageTransition,uploadInParallel:!!this._uploadInParallel,concurrentLimit:(a=this._concurrentLimit)!=null?a:0,preprocessHandler:(a=this._preprocessHandler)!=null?a:null,networkErrorRetryLimit:(a=this._retryLimit)!=null?a:0});this._files&&this._fileForm.setFiles(this._files);this._fileForm.subscribe(b("FileForm").EVENTS,this._onFileFormEvent.bind(this));b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this._data),this._formElem)};d._removeFormEl=function(){b("DOM").remove(this._formElem),this._formElem=null};d._destroyFileForm=function(){this._fileForm&&(this._fileForm.destroy(),this._fileForm=null)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("PhotosUploadID",[],(function(a,b,c,d,e,f){var g=1024;a={getNewID:function(){return(g++).toString()}};e.exports=a}),null);
__d("Popup",[],(function(a,b,c,d,e,f){__p&&__p();a={open:function(a,b,c,d){__p&&__p();var e=[];b!=null&&b!==0&&e.push("width="+b);c!=null&&c!==0&&e.push("height="+c);var f=document.body;if(f!=null&&b!=null&&b!==0&&c!=null&&c!==0){var g="screenX"in window?window.screenX:window.screenLeft,h="screenY"in window?window.screenY:window.screenTop,i="outerWidth"in window?window.outerWidth:f.clientWidth;f="outerHeight"in window?window.outerHeight:f.clientHeight-22;g=Math.floor(g+(i-b)/2);i=Math.floor(h+(f-c)/2.5);e.push("left="+g);e.push("top="+i)}e.push("scrollbars");return window.open(a,d!=null&&d!==""?d:"_blank",e.join(","))}};e.exports=a}),null);
__d("hashString",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var b=0;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d;b|=0}return b}e.exports=a}),null);
__d("whitelistObjectKeys",[],(function(a,b,c,d,e,f){function a(a,b){var c={};b=Array.isArray(b)?b:Object.keys(b);for(var d=0;d<b.length;d++)typeof a[b[d]]!=="undefined"&&(c[b[d]]=a[b[d]]);return c}e.exports=a}),null);
__d("distinctArrayBy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a}function a(a,b){__p&&__p();b===void 0&&(b=g);var c=[],d=new Set();for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=a.length)break;h=a[f++]}else{f=a.next();if(f.done)break;h=f.value}h=h;var i=b(h);d.has(i)||(d.add(i),c.push(h))}return c}e.exports=a}),null);